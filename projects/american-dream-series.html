<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>American Dream Series - Rafael Mediodia</title>
    <link rel="icon" type="image/svg+xml" href="../favicon.svg">
    <link rel="stylesheet" href="../styles.css">
</head>
<body>
    <div class="cursor"></div>
    
    <div class="info-container">
        <!-- Sidebar content will be injected here -->
    </div>
    
    <div class="project-text-panel">
        <a href="../index.html" class="project-back-link">‚Üê back</a>
        <div class="project-header">
            <h1 class="project-title">American Dream Series: Part 0</h1>
            <p class="project-blurb">
                This pilot episode for a potential larger project aims to spotlight the experiences of immigrants in the United States and how they have navigated their journeys through interviews and images of the interviewee's past.
            </p>
        </div>
        
        <div class="project-meta">
            <div class="project-meta-item">
                <div class="project-meta-label">Year</div>
                <div class="project-meta-value">2024</div>
            </div>
            <div class="project-meta-item">
                <div class="project-meta-label">Role</div>
                <div class="project-meta-value">Designer</div>
            </div>
            <div class="project-meta-item">
                <div class="project-meta-label">Type</div>
                <div class="project-meta-value">Motion Design, Video</div>
            </div>
        </div>
        
        <div class="project-section">
            <div class="project-text">
                <p>Set in ATF Franklin Gothic.</p>
            </div>
        </div>
    </div>
    
    <div class="project-images-panel">
        <video data-src="../AmericanDream/American Dream Series Part 0.mp4" controls muted loop playsinline webkit-playsinline preload="metadata"></video>
        <img data-src="../AmericanDream/DS3UNIT17_05.jpg" alt="American Dream Series">
        <img data-src="../AmericanDream/DS3UNIT17_06.jpg" alt="American Dream Series">
    </div>
    
    <!-- Image Zoom Modal -->
    <div class="image-zoom-modal" id="imageZoomModal">
        <div class="image-zoom-close" id="imageZoomClose"></div>
        <div class="image-zoom-container">
            <img id="zoomedImage" alt="Project Image">
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const videos = document.querySelectorAll('.project-images-panel video[data-src]');
            const videoObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const video = entry.target;
                        video.src = video.getAttribute('data-src');
                        video.removeAttribute('data-src');
                        video.load();
                        // Safari autoplay fix - try to play after load
                        video.addEventListener('loadeddata', () => {
                            video.play().catch(() => {
                                // Autoplay blocked, user will need to interact
                            });
                        }, { once: true });
                        videoObserver.unobserve(video);
                    }
                });
            }, { rootMargin: '100px' });
            
            videos.forEach(video => videoObserver.observe(video));
            
            const images = document.querySelectorAll('.project-images-panel img[data-src]');
            const imageObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const img = entry.target;
                        img.src = img.getAttribute('data-src');
                        img.removeAttribute('data-src');
                        imageObserver.unobserve(img);
                    }
                });
            }, { rootMargin: '100px' });
            
            images.forEach(img => imageObserver.observe(img));
        });
    </script>
    <script src="../cursor.js"></script>
    <script src="../sidebar.js"></script>
    <script src="../project-zoom.js"></script>
</body>
</html>

